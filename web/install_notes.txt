Web install notes for vps:

install solo-odds-web.service to /etc/systemd/system directory

sudo systemctl daemon-reload
sudo systemctl enable --now solo-odds-web
sudo systemctl status solo-odds-web


nginx config snippet: 

location / {
  proxy_pass http://127.0.0.1:8080;
  proxy_set_header Host $host;
  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
  proxy_set_header X-Forwarded-Proto $scheme;
}

location = /robots.txt {
    root /srv/solo-odds/web/static;
}

location = /sitemap.xml {
    root /srv/solo-odds/web/static;
}

add this to the crontab:

0 */6 * * * /home/jeff/sandbox/solo-odds/.venv/bin/solo-odds refresh --coin bch >/dev/null 2>&1
0 */6 * * * /home/jeff/sandbox/solo-odds/.venv/bin/solo-odds refresh --coin btc >/dev/null 2>&1

to check waitlist:
tail -n 5 /srv/solo-odds/var/waitlist.txt

Share link views:

sudo grep -E 'GET /r/' /var/log/nginx/access.log | wc -l

Waitlist posts (FastAPI runs behind nginx, so easiest is systemd logs):

journalctl -u solo-odds-web --since "today" | grep waitlist | wc -l

To check 50 shares links generated:

Assuming default metrics path: var/metrics.jsonl under your repo root.

Count share link generation events:

grep -c '"event":"share_created"' var/metrics.jsonl

(Or with absolute path if you prefer: /srv/solo-odds/var/metrics.jsonl.)

Count report views:

grep -c '"event":"report_view"' var/metrics.jsonl

Top referrers:

jq -r 'select(.event=="report_view") | .meta.ref // ""' var/metrics.jsonl | sort | uniq -c | sort -nr | head

If you donâ€™t have jq installed:

grep '"event":"report_view"' var/metrics.jsonl | sed -n 's/.*"ref":"\([^"]*\)".*/\1/p' | sort | uniq -c | 